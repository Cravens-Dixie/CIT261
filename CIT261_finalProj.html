<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="author" content="Dixie Cravens">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIT261 Final Project</title>
</head>
<style>
    input {
        margin: .5em;
        background: aqua;
    }

    .hideMe {
        display: none;
    }

    #main {
        height: 175px;
        width: 300px;
        background: gray;
    }

    #container {
        margin: 1em;
        padding-top: 1.5em;
    }

    #numbers {
        color: white;
        display: block;
        margin: .2em;
        text-align: center;
    }

    .anim {
        animation: text-change 1s;
    }

    @keyframes text-change {
        0% {

            color: black;
            opacity: 0;
        }

        50% {
            color: white;
            opacity: 1;
        }

        100% {
            color: black;
            opacity: 0;
            font-size: 5em;
        }
    }
</style>

<body>
    <div id="triggerIt">
        <h2>Take the Test</h2>
        <h3>How is your memory?</h3>
        <button onclick="timer()">Start Memorizing!</button>
        <div id="main">
            <div id="container">
                <p id="numbers">Ready! Set! Go!</p>

            </div>

        </div>

    </div>
    <input type="text" placeholder="Enter the numbers here." id="inputBox" class="hideMe">
    <button type="submit" id="submitbutton" class="hideMe" onclick="createArray()">Submit</button>
    
</body>
<script>
    var timerInt;
    var numList = [];
    var count = 0;
    var anim = document.getElementById("numbers");


    //function to set an interval timer to the showMe() function...runs the random number generator at a set time interval
    function timer() {
        if (!count) timerInt = setInterval(showMe, 1000);
    }

    //function to restart animation with each loop
    // https://css-tricks.com/restart-css-animation/
    function resetAnimation() {
        anim.classList.remove("anim"); //Remove the animation
        void anim.offsetWidth; //Triggers the reflow 
        anim.classList.add("anim");
    }


    //function to show 5 random numbers, one at a time, then push each number to a list (numList[])
    function showMe() {
        //get random number
        var number = Math.ceil(Math.random() * 100);

        //insert number into p tag
        document.getElementById("numbers").innerHTML = number;

        //keep count of the numbers displayed
        count++;

        //if loop checks count of numbers, clears timer (so it can restart), and clears screen of previous number
        if (count > 5) {
            clearInterval(timerInt);
            document.getElementById("numbers").innerHTML = "<br>";
            count = 0;
            console.log(numList); // TODO: Put the numList in localStorage? to check against user input
            createInput();
        } else resetAnimation();
        //push the number to numList[]
        numList.push(number);
    };
    //function to give user a place to type numbers shown and submit info compare()
    function createInput() {
        //show hidden input box
        document.getElementById("inputBox").classList.remove("hideMe");
        //show hidden submit button
        document.getElementById("submitbutton").classList.remove("hideMe");
    }
    function createArray() {
        //what if I parse the value of inputBox?
        var inBoxValues = document.getElementById("inputBox");
        var userList = [];
        var size = 5;
        for (i = 0; i < size; i++) {
           userList.push( inBoxValues[i].value); 
        };
        console.log(userList);

    }
    function compare(numList) {
        //TODO: create an array from inputBox input named userList
        createArray();
        //TODO: compare numList to userList
        if (JSON.stringify(numList)==JSON.stringify(userList))
            //TODO: output message to user that it is correct
            document.write("You got it!");
        else
            //TODO: output to user not correct
            document.write("Not this time!");
            //TODO: Possible to show to user which inputs were right, which were not? Maybe print numList to screen for user to compare on their own.
    }
    
    //TODO: Show user a message (with AJAX?) about memory skill
    
</script></html>
